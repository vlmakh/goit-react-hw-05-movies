"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[58,894],{2058:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(885),a="MovieItem_movie__over__5KAj4",c="MovieItem_movie__genres__HeCxp",i="MovieItem_movie__add__cwMM0",o="MovieItem_goback__btn__ZX4oi",s="MovieItem_movie__img__oI88P",u=n(3682),l=n(2791),d=n(6731),p=n(7689),f=n(4390),v=n(2894),m="Modal_overlay__r63M6",_="Modal_modal__DJDMv",h=n(4164),g=n(184),x=document.querySelector("#modal-root");function w(e){var t=e.onClose,n=e.children;(0,l.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return(0,h.createPortal)((0,g.jsx)("div",{className:m,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,g.jsx)("div",{className:_,children:n})}),x)}function j(){var e,t,n,m=(0,l.useState)(null),_=(0,r.Z)(m,2),h=_[0],x=_[1],j=(0,l.useState)(!1),y=(0,r.Z)(j,2),k=y[0],b=y[1],Z=(0,p.TH)(),M=(0,p.UO)(),I=(0,l.useRef)(null!==(e=null===(t=Z.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),S=(0,l.useState)(!1),C=(0,r.Z)(S,2),N=C[0],P=C[1],E=function(){P(!N)};return(0,l.useEffect)((function(){(0,f.Mc)(M.movieId).then((function(e){x(e)})).catch((function(e){b(!0)}))}),[M.movieId]),(0,g.jsxs)(u.x,{p:3,mt:"48px",textAlign:"left",children:[(0,g.jsx)(d.OL,{to:I.current,className:o,children:"Go Back"}),k&&(0,g.jsx)(v.default,{}),h&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.x,{display:"flex",mt:3,children:[(0,g.jsx)("div",{children:(0,g.jsx)("img",{className:s,width:"200",src:"https://image.tmdb.org/t/p/w200/".concat(h.poster_path),alt:"".concat(h.original_title),onClick:E})}),(0,g.jsxs)(u.x,{ml:3,children:[(0,g.jsx)("h2",{children:h.original_title}),(0,g.jsx)("h4",{children:(null!==(n=h.release_date)&&void 0!==n?n:h.first_air_date).slice(0,4)}),(0,g.jsx)("p",{className:a,children:h.overview}),(0,g.jsx)("p",{className:c,children:h.genres.map((function(e){return e.name})).join(", ")})]})]}),(0,g.jsxs)(u.x,{mt:3,children:[(0,g.jsx)(d.OL,{className:i,to:"cast",children:"Cast"}),(0,g.jsx)(d.OL,{className:i,to:"reviews",children:"Reviews"})]}),(0,g.jsx)(p.j3,{}),N&&(0,g.jsx)(w,{onClose:E,children:(0,g.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(h.poster_path),alt:"".concat(h.original_title)})})]})]})}},2894:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(3682),a=n(3525),c=n(184);function i(){return(0,c.jsxs)(r.x,{textAlign:"center",mt:4,children:[(0,c.jsx)("h1",{children:"Error 404"}),(0,c.jsx)("p",{children:"Something's wrong... probably information isn't added yet, please try later"}),(0,c.jsx)(r.x,{mt:3,children:(0,c.jsx)("img",{src:a,alt:"error 404",width:"100%"})})]})}},4390:function(e,t,n){n.d(t,{IV:function(){return v},Mc:function(){return f},PY:function(){return d},vw:function(){return p},wH:function(){return m}});var r=n(5861),a=n(4687),c=n.n(a),i=n(2007),o=n.n(i),s=n(1044),u="https://api.themoviedb.org/3",l="7944ae355bdc42ac579681e106149d6b",d=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/trending/all/day?api_key=").concat(l,"&page=1"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/search/movie?api_key=").concat(l,"&query=").concat(t,"&language=en-US&page=").concat(n,"&include_adult=false"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/movie/").concat(t,"?api_key=").concat(l,"&language=en-US&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(l,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(l,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();p.propTypes={query:o().string,page:o().number},f.propTypes={id:o().string},v.propTypes={id:o().string},m.propTypes={id:o().string}},3525:function(e,t,n){e.exports=n.p+"static/media/error-404.e9f7e60adc7856fc4f69.jpg"}}]);
//# sourceMappingURL=58.52e0f267.chunk.js.map