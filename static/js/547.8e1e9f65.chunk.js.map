{"version":3,"file":"static/js/547.8e1e9f65.chunk.js","mappings":"oPAGaA,EAAaC,EAAAA,EAAAA,IAAH,uRACX,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAML,SAAAF,GAAC,OAAIA,EAAEC,MAAME,OAAOC,OAAnB,GAECC,GAKGC,EAAaP,EAAAA,EAAAA,GAAH,mJAMd,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAGGK,EAAaR,EAAAA,EAAAA,GAAH,2IAOL,SAAAC,GAAC,OAAIA,EAAEC,MAAMO,QAAQC,WAApB,IAINC,EAAYX,EAAAA,EAAAA,OAAH,qPACL,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAGP,SAAAF,GAAC,OAAIA,EAAEC,MAAME,OAAOQ,aAAnB,IACU,SAAAX,GAAC,OAAIA,EAAEC,MAAME,OAAOS,MAAnB,IACL,SAAAZ,GAAC,OAAIA,EAAEC,MAAME,OAAOS,MAAnB,IAMN,SAAAZ,GAAC,OAAIA,EAAEC,MAAME,OAAOU,MAAnB,IAIDC,EAAcf,EAAAA,EAAAA,MAAH,6CAIXgB,EAAchB,EAAAA,EAAAA,OAAH,2RACR,SAAAC,GAAC,OAAIA,EAAEC,MAAMC,MAAM,EAAlB,IAGN,SAAAF,GAAC,OAAKA,EAAEgB,SAAW,OAAShB,EAAEC,MAAME,OAAOQ,aAA1C,IACU,SAAAX,GAAC,OAAIA,EAAEC,MAAME,OAAOS,MAAnB,IAGL,SAAAZ,GAAC,OAAIA,EAAEC,MAAME,OAAOS,MAAnB,IACP,SAAAZ,GAAC,OAAKA,EAAEgB,SAAW,UAAY,SAA9B,IAKA,SAAAhB,GAAC,OAAIA,EAAEC,MAAME,OAAOU,MAAnB,I,+ECrDC,SAASI,EAAT,GAAkC,IAAD,EAAfC,EAAe,EAAfA,YAC/B,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAoCF,EAAAA,EAAAA,UAAS,GAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAK,UAAGF,EAAYG,IAAI,iBAAnB,QAAgC,GACrCC,EAAcJ,EAAYG,IAAI,QACpC,GAAwBT,EAAAA,EAAAA,UAASU,EAAcC,OAAOD,GAAe,GAArE,eAAOE,EAAP,KAAaC,EAAb,KACA,GAA0Bb,EAAAA,EAAAA,UAASQ,GAAgB,IAAnD,eAAOM,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAoCjB,EAAAA,EAAAA,UAAS,GAA7C,eAAOkB,EAAP,KAAmBC,EAAnB,MAEAC,EAAAA,EAAAA,YAAU,WACHZ,IAILa,EAAAA,EAAAA,IAAYb,EAAOI,EAAMb,GACtBuB,MAAK,SAAAC,GACCA,EAAKC,QAAQC,QAOhBrB,EAAcmB,EAAKG,eACnBP,EAAcI,EAAKI,aACnBzB,GAAe,OAAIqB,EAAKC,WARxBI,MAAM,8CAUT,IACAC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GACf,GAAE,CAAC/B,EAAaa,EAAMJ,IAmCvB,OACE,UAACyB,EAAA,EAAD,CAAKpD,EAAG,EAAGqD,UAAU,SAASC,GAAG,OAAjC,WACE,kBAAMC,SA/BW,SAAAC,GAEnB,GADAA,EAAMC,iBACe,KAAjBxB,EAAMyB,OACR,OAAOX,MAAM,kDAEXd,EAAMyB,SAAW/B,IACnBK,EAAQ,GACRX,EAAe,IACfK,EAAe,CAAEiC,OAAQ1B,EAAOF,KAAMD,OAAOC,KAEhD,EAqBG,WACE,SAACjB,EAAD,CACE8C,KAAK,OACLC,MAAO5B,EACP6B,SAvCc,SAAAN,GACpBtB,EAASsB,EAAMO,OAAOF,MACvB,EAsCOG,YAA6B,UAAhB9C,EAA0B,sEAAiB,UAE1D,SAACR,EAAD,CAAWkD,KAAK,SAAhB,SACmB,UAAhB1C,EAA0B,iCAAU,YAEvC,SAACR,EAAD,CAAWkD,KAAK,SAASK,QAnBd,WACf/B,EAAS,IACTb,EAAe,IACfK,EAAe,CAAEiC,OAAQ,GAAI5B,KAAM,IACnCO,EAAc,EACf,EAcK,SACmB,UAAhBpB,EAA0B,mDAAa,aAIpB,IAAvBE,EAAYwB,SAAgB,SAAC9C,EAAD,KAE7B,SAACQ,EAAD,UACGc,EAAY8C,KAAI,SAAAC,GAAK,OACpB,SAAC5D,EAAD,WACE,SAAC,KAAD,CAAS6D,GAAE,UAAKD,EAAME,IAAMC,MAAO,CAAEC,KAAMpC,GAA3C,UACE,SAACqC,EAAA,EAAD,CAAWL,MAAOA,OAFLA,EAAME,GADH,MA2BvBjD,EAAYwB,OAAS,GAAKxB,EAAYwB,OAAStB,IAC9C,iCACE,SAACP,EAAD,CACE6C,KAAK,SACLK,QA/DW,WACnBjC,GAAQ,SAAAyC,GAAQ,OAAIA,EAAW,CAAf,IAChB/C,EAAe,CAAEiC,OAAQ1B,EAAOF,KAAMA,EAAO,GAC9C,EA6DSf,SAAmB,IAATe,EAHZ,SAKmB,UAAhBb,EAA0B,iCAAU,eAEvC,SAACH,EAAD,CACE6C,KAAK,SACLK,QA3EW,WACnBjC,GAAQ,SAAAyC,GAAQ,OAAIA,EAAW,CAAf,IAChB/C,EAAe,CAAEiC,OAAQ1B,EAAOF,KAAMA,EAAO,GAC9C,EAyESf,SAAUe,IAASM,EAHrB,SAKmB,UAAhBnB,EAA0B,2BAAS,mBAM/C,C","sources":["pages/Movies/Movies.styled.jsx","pages/Movies/Movies.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport bcgImage from 'images/bcg-movies01.jpg';\n\nexport const Background = styled.div`\n  margin: ${p => p.theme.space[4]}px auto 0;\n  max-width: 1280px;\n  height: 720px;\n  background-image: radial-gradient(\n      at center,\n      rgba(59, 67, 81, 0.2),\n      ${p => p.theme.colors.bcgMain} 70%\n    ),\n    url(${bcgImage});\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n`;\n\nexport const MoviesList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  justify-content: center;\n  margin-top: 16px;\n  gap: ${p => p.theme.space[3]}px;\n`;\n\nexport const MoviesItem = styled.li`\n  box-shadow: none;\n\n  transition: box-shadow 250ms linear;\n\n  :hover,\n  :focus {\n    box-shadow: ${p => p.theme.shadows.blackShadow};\n  }\n`;\n\nexport const SearchBtn = styled.button`\n  margin-left: ${p => p.theme.space[1]}px;\n  font-weight: 700;\n  padding: 4px 8px;\n  color: ${p => p.theme.colors.textSecondary};\n  background-color: ${p => p.theme.colors.bcgBtn};\n  border-color: ${p => p.theme.colors.bcgBtn};\n  cursor: pointer;\n\n  transition: color 250ms linear;\n\n  :hover {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n\nexport const SearchInput = styled.input`\n  padding: 4px 8px;\n`;\n\nexport const LoadMoreBtn = styled.button`\n  margin-top: ${p => p.theme.space[4]}px;\n\n  padding: 4px 8px;\n  color: ${p => (p.disabled ? 'grey' : p.theme.colors.textSecondary)};\n  background-color: ${p => p.theme.colors.bcgBtn};\n  text-decoration: none;\n  font-weight: 700;\n  border-color: ${p => p.theme.colors.bcgBtn};\n  cursor: ${p => (p.disabled ? 'default' : 'pointer')};\n\n  transition: color 250ms linear;\n\n  :hover:not(:disabled) {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n","import {\n  MoviesList,\n  MoviesItem,\n  SearchBtn,\n  SearchInput,\n  LoadMoreBtn,\n  Background,\n} from './Movies.styled';\nimport { MovieCard } from 'components/MovieCard/MovieCard';\nimport 'index.css';\nimport { NavLink } from 'react-router-dom';\nimport { Box } from 'components/Box/Box';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { fetchMovies } from 'services/api';\n\n// import Pagination from '@mui/material/Pagination';\n\nexport default function Movies({ currentLang }) {\n  const [moviesFound, setMoviesFound] = useState([]);\n  const [totalFound, setTotalFound] = useState(1);\n  const [searchQuery, setSearchQuery] = useSearchParams();\n  const query = searchQuery.get('search') ?? '';\n  const currentPage = searchQuery.get('page');\n  const [page, setPage] = useState(currentPage ? Number(currentPage) : 1);\n  const [input, setInput] = useState(query ? query : '');\n  const location = useLocation();\n  // console.log(location);\n  const [totalPages, setTotalPages] = useState(0);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    fetchMovies(query, page, currentLang)\n      .then(data => {\n        if (!data.results.length) {\n          alert('No results found due to your search inquiry');\n        } else {\n          // setMoviesFound(prevState => {\n          //   return [...prevState, ...data.results];\n          // });\n          // console.log(data);\n          setTotalFound(data.total_results);\n          setTotalPages(data.total_pages);\n          setMoviesFound([...data.results]);\n        }\n      })\n      .catch(error => console.log(error));\n  }, [currentLang, page, query]);\n\n  const onSearchInput = event => {\n    setInput(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (input.trim() === '') {\n      return alert('Empty query. Please input something for search');\n    }\n    if (input.trim() !== query) {\n      setPage(1);\n      setMoviesFound([]);\n      setSearchQuery({ search: input, page: Number(page) });\n    }\n  };\n\n  const increasePage = () => {\n    setPage(prevPage => prevPage + 1);\n    setSearchQuery({ search: input, page: page + 1 });\n  };\n\n  const decreasePage = () => {\n    setPage(prevPage => prevPage - 1);\n    setSearchQuery({ search: input, page: page - 1 });\n  };\n\n  const clearAll = () => {\n    setInput('');\n    setMoviesFound([]);\n    setSearchQuery({ search: '', page: 0 });\n    setTotalPages(0);\n  };\n\n  return (\n    <Box p={4} textAlign=\"center\" mt=\"48px\">\n      <form onSubmit={handleSubmit}>\n        <SearchInput\n          type=\"text\"\n          value={input}\n          onChange={onSearchInput}\n          placeholder={currentLang === 'uk-UA' ? 'Назва фільму' : 'Film'}\n        />\n        <SearchBtn type=\"submit\">\n          {currentLang === 'uk-UA' ? 'Пошук' : 'Search'}\n        </SearchBtn>\n        <SearchBtn type=\"button\" onClick={clearAll}>\n          {currentLang === 'uk-UA' ? 'Очистити' : 'Clear'}\n        </SearchBtn>\n      </form>\n\n      {moviesFound.length === 0 && <Background />}\n\n      <MoviesList>\n        {moviesFound.map(movie => (\n          <MoviesItem key={movie.id}>\n            <NavLink to={`${movie.id}`} state={{ from: location }}>\n              <MovieCard movie={movie} />\n            </NavLink>\n          </MoviesItem>\n        ))}\n      </MoviesList>\n\n      {/* <Box py={3} display=\"flex\" justifyContent=\"center\">\n        {totalPages > 0 && (\n          <Pagination\n            count={totalPages}\n            page={Number(currentPage)}\n            onChange={(_, num) => {\n              setSearchQuery({ search: input, page: Number(num) });\n              setPage(num);\n            }}\n            siblingCount={1}\n            boundaryCount={2}\n            color=\"primary\"\n            showFirstButton\n            showLastButton\n          />\n        )}\n      </Box> */}\n\n      {moviesFound.length > 0 && moviesFound.length < totalFound && (\n        <>\n          <LoadMoreBtn\n            type=\"button\"\n            onClick={decreasePage}\n            disabled={page === 1 ? true : false}\n          >\n            {currentLang === 'uk-UA' ? 'Назад' : 'Prev page'}\n          </LoadMoreBtn>\n          <LoadMoreBtn\n            type=\"button\"\n            onClick={increasePage}\n            disabled={page === totalPages ? true : false}\n          >\n            {currentLang === 'uk-UA' ? 'Далі' : 'Next page'}\n          </LoadMoreBtn>\n        </>\n      )}\n    </Box>\n  );\n}\n"],"names":["Background","styled","p","theme","space","colors","bcgMain","bcgImage","MoviesList","MoviesItem","shadows","blackShadow","SearchBtn","textSecondary","bcgBtn","accent","SearchInput","LoadMoreBtn","disabled","Movies","currentLang","useState","moviesFound","setMoviesFound","totalFound","setTotalFound","useSearchParams","searchQuery","setSearchQuery","query","get","currentPage","Number","page","setPage","input","setInput","location","useLocation","totalPages","setTotalPages","useEffect","fetchMovies","then","data","results","length","total_results","total_pages","alert","catch","error","console","log","Box","textAlign","mt","onSubmit","event","preventDefault","trim","search","type","value","onChange","target","placeholder","onClick","map","movie","to","id","state","from","MovieCard","prevPage"],"sourceRoot":""}