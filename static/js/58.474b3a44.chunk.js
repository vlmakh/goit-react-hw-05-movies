"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[58,894],{2058:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(885),a="MovieItem_movie__title__zF000",c="MovieItem_movie__over__5KAj4",i="MovieItem_movie__descr__88f97",o="MovieItem_movie__add__cwMM0",s="MovieItem_goback__btn__ZX4oi",u="MovieItem_movie__img__oI88P",l=n(3682),d=n(2791),p=n(6731),f=n(7689),m=n(4390),v=n(2894),_="Modal_overlay__r63M6",h="Modal_modal__DJDMv",g=n(4164),x=n(184),w=document.querySelector("#modal-root");function j(e){var t=e.onClose,n=e.children;(0,d.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return(0,g.createPortal)((0,x.jsx)("div",{className:_,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,x.jsx)("div",{className:h,children:n})}),w)}function y(){var e,t,n,_=(0,d.useState)(null),h=(0,r.Z)(_,2),g=h[0],w=h[1],y=(0,d.useState)(!1),k=(0,r.Z)(y,2),b=k[0],M=k[1],Z=(0,f.TH)(),I=(0,f.UO)(),N=(0,d.useRef)(null!==(e=null===(t=Z.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),S=(0,d.useState)(!1),P=(0,r.Z)(S,2),C=P[0],E=P[1],T=function(){E(!C)};return(0,d.useEffect)((function(){(0,m.Mc)(I.movieId).then((function(e){w(e)})).catch((function(e){M(!0)}))}),[I.movieId]),(0,x.jsxs)(l.x,{p:3,mt:"48px",textAlign:"left",children:[(0,x.jsx)(p.OL,{to:N.current,className:s,children:"Go Back"}),b&&(0,x.jsx)(v.default,{}),g&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:a,children:g.original_title}),(0,x.jsxs)(l.x,{display:"flex",mt:3,children:[(0,x.jsx)("div",{children:(0,x.jsx)("img",{className:u,width:"200",src:"https://image.tmdb.org/t/p/w200/".concat(g.poster_path),alt:"".concat(g.original_title),onClick:T})}),(0,x.jsxs)(l.x,{ml:3,children:[(0,x.jsx)("p",{className:i,children:g.genres.map((function(e){return e.name})).join(", ")}),(0,x.jsx)("p",{className:i,children:(null!==(n=g.release_date)&&void 0!==n?n:g.first_air_date).slice(0,4)}),(0,x.jsx)("p",{className:c,children:g.overview}),(0,x.jsxs)(l.x,{mt:3,children:[(0,x.jsx)(p.OL,{className:o,to:"cast",children:"Cast"}),(0,x.jsx)(p.OL,{className:o,to:"reviews",children:"Reviews"})]}),(0,x.jsx)(f.j3,{})]})]}),C&&(0,x.jsx)(j,{onClose:T,children:(0,x.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(g.poster_path),alt:"".concat(g.original_title)})})]})]})}},2894:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(3682),a=n(3525),c=n(184);function i(){return(0,c.jsxs)(r.x,{textAlign:"center",mt:4,children:[(0,c.jsx)("h1",{children:"Error 404"}),(0,c.jsx)("p",{children:"Something's wrong... probably information isn't added yet, please try later"}),(0,c.jsx)(r.x,{mt:3,children:(0,c.jsx)("img",{src:a,alt:"error 404",width:"100%"})})]})}},4390:function(e,t,n){n.d(t,{IV:function(){return m},Mc:function(){return f},PY:function(){return d},vw:function(){return p},wH:function(){return v}});var r=n(5861),a=n(4687),c=n.n(a),i=n(2007),o=n.n(i),s=n(1044),u="https://api.themoviedb.org/3",l="7944ae355bdc42ac579681e106149d6b",d=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/trending/all/day?api_key=").concat(l,"&page=1"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/search/movie?api_key=").concat(l,"&query=").concat(t,"&language=en-US&page=").concat(n,"&include_adult=false"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/movie/").concat(t,"?api_key=").concat(l,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(l,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(l,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();p.propTypes={query:o().string,page:o().number},f.propTypes={id:o().string},m.propTypes={id:o().string},v.propTypes={id:o().string}},3525:function(e,t,n){e.exports=n.p+"static/media/error-404.e9f7e60adc7856fc4f69.jpg"}}]);
//# sourceMappingURL=58.474b3a44.chunk.js.map